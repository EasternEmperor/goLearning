## goroutine基本介绍
### 进程和线程说明
1. 进程是程序在操作系统的一次执行过程，是系统进行资源分配和调度的基本单位
2. 线程是CPU执行的最小单位

### 并发和并行
1. 多线程程序在单核上运行，叫**并发**
2. 多线程程序在多核上运行，叫**并行**

### Go协程和Go主线程
1. Go主线程（也可就叫**线程**，可理解为**进程**）：一个Go线程上，可以跑很多**协程**，
    - **协程是轻量级线程**
    - 以下未特别说明则线程均指**主线程**，不是一般意义上的线程
2. Go协程的特点：
    - 独立栈空间
    - 共享程序堆空间
    - 调度由用户控制
    - 协程是轻量级线程

### goroutine基础特点
1. 主线程是一个物理线程，直接跑在CPU上。重量级的并耗费CPU资源
2. 协程是在线程中开启的，是轻量级的线程，是**逻辑态**
3. Go可以轻松开启上万个协程，是Go在并发上的优势

### MPG模式介绍
1.  - M：主线程（物理线程）
    - P：协程执行需要满足的条件（上下文）
    - G：协程
2. 某时刻，可能同时有多个M在执行，每个M执行其队列上的G，每个M上挂载的G可能有多个（等待执行）
3. 运行时，假设M0主线程在执行G0协程，另有3个协程在队列上等待
    - 如果G0阻塞，如进行I/O
    - 这时就会创建或者从线程池中取出一个空闲的线程M1，并且将M0上等待的3个协程挂到M1下
    执行，而M0下的G0仍然执行其I/O
    - 这样的MPG调度模式，可以既让M0上的G0阻塞执行I/O，同时其队列上其他协程也不会一直阻
    塞（换个线程挂载执行）
    - 等到G0不阻塞了，M0会继续执行G0

### 互斥问题
1. 可使用锁，在sync包中的Mutex互斥锁
    - var lock sync.Mutex
    - 加锁: lock.Lock()     解锁: lock.Unlock()